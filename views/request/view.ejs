<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title><%= title %></title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
			crossorigin="anonymous" />
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0" />
		<link rel="stylesheet" href="/css/style.css" />
	</head>

	<body>
		<main>
			<div class="container-fluid">
				<div class="row min-vh-100">
					<%- include('../partials/sidebar') %>
					<div class="col-12 col-lg-10 p-5">
						<%- include('../partials/header') %>

						<div class="mt-5">
							<h4 class="fw-bold font-text mb-3"><%= request.document.title %></h4>
							<p class="text-muted"><%= request.document.description %></p>
						</div>

						<form id="requestForm" class="mt-5" action="#">
							<div class="row mb-3">
								<label for="title" class="col-sm-2 col-form-label">Title</label>
								<div class="col-sm-10">
									<input
										type="text"
										class="form-control"
										id="title"
										name="title"
										value="<%= request.document.title %>"
										disabled />
								</div>
							</div>

							<div class="row mb-3">
								<label for="description" class="col-sm-2 col-form-label">Description</label>
								<div class="col-sm-10">
									<textarea
										class="form-control"
										style="resize: none"
										id="description"
										name="description"
										rows="3"
										disabled></textarea>
								</div>
							</div>

							<div class="row mb-3">
								<label for="sender" class="col-sm-2 col-form-label">Sender</label>
								<div class="col-sm-10">
									<% if (request.sender.image) { %>
									<img
										src="<%= request.sender.image %>"
										alt="<%= request.sender.fullname %>"
										class="rounded-circle me-3 avatar" />
									<% } %>
									<span><%= request.sender.fullname %></span>
								</div>
							</div>

							<div class="row mb-3">
								<label for="created_at" class="col-sm-2 col-form-label">Created At</label>
								<div class="col-sm-10">
									<input
										type="text"
										class="form-control"
										id="created_at"
										name="created_at"
										value="<%= request.created_at %>"
										disabled />
								</div>
							</div>

							<div class="row mb-3">
								<label for="status" class="col-sm-2 col-form-label">Status</label>
								<div class="col-sm-10">
									<input
										type="text"
										class="form-control"
										id="status"
										name="status"
										value="<%= request.status %>"
										disabled />
								</div>
							</div>

							<div class="row mb-3">
								<label for="receiver" class="col-sm-2 col-form-label">Receiver</label>
								<div class="col-sm-10">
									<% if (request.receiver.image) { %>
									<img
										src="<%= request.receiver.image %>"
										alt="<%= request.receiver.fullname %>"
										class="rounded-circle me-3 avatar" />
									<% } %>
									<span><%= request.receiver.fullname %></span>
								</div>
							</div>
						</form>

						<iframe
							id="pdf"
							class="rounded-3 overflow-hidden mt-5"
							src="<%= request.document.file %>"></iframe>
					</div>
				</div>
			</div>
		</main>

		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
			crossorigin="anonymous"></script>

		<script>
			const description = document.querySelector('#description');
			description.value = `<%= request.document.description %>`;
		</script>
	</body>
</html>
